execute_process( COMMAND git submodule init )
execute_process( COMMAND git submodule update )

if ((${CMAKE_CXX_COMPILER_ID} STREQUAL "Clang"))
    add_definitions( -fexceptions -frtti -w )
elseif ( UNIX OR MINGW )
    add_definitions( -fexceptions -frtti -w )
    if ( MINGW )
        add_definitions (-D_USE_MATH_DEFINES)
    endif()
elseif (MSVC)
    set( CMAKE_DEBUG_POSTFIX "" )
    string (REGEX REPLACE "/EHs-c-" "" CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}")
    string (REGEX REPLACE "/GR-" ""    CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}")
    string (REGEX REPLACE "/W3" ""     CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}")
    set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /EHsc /GR /w")
endif()

set( ASSIMP_BUILD_ASSIMP_TOOLS OFF CACHE BOOL
    "If the supplementary tools for Assimp are built in addition to the library." )
set( ASSIMP_BUILD_TESTS OFF CACHE BOOL
    "If the test suite for Assimp is built in addition to the library." )
set( ASSIMP_BUILD_SAMPLES OFF CACHE BOOL
    "If the official samples are built as well (needs Glut)." )
<<<<<<< 66d8312ba62f1839a7251fc91651a0f503295420

# Do not clean 3rt party libs when cleaning the build.
set_directory_properties( PROPERTIES CLEAN_NO_CUSTOM 1)

MACRO(REMOVE_ASSIMP_IMPORT_EXPORT name)
  OPTION(ASSIMP_BUILD_${name}_IMPORTER "build the ${name} importer" FALSE)
  add_definitions("-DASSIMP_BUILD_NO_${name}_EXPORTER")
ENDMACRO()

REMOVE_ASSIMP_IMPORT_EXPORT(3D)
REMOVE_ASSIMP_IMPORT_EXPORT(AC)
REMOVE_ASSIMP_IMPORT_EXPORT(ASE)
REMOVE_ASSIMP_IMPORT_EXPORT(ASSBIN)
REMOVE_ASSIMP_IMPORT_EXPORT(ASSXML)
REMOVE_ASSIMP_IMPORT_EXPORT(B3D)
REMOVE_ASSIMP_IMPORT_EXPORT(BLEND)
REMOVE_ASSIMP_IMPORT_EXPORT(BVH)
REMOVE_ASSIMP_IMPORT_EXPORT(COB)
REMOVE_ASSIMP_IMPORT_EXPORT(CSM)
REMOVE_ASSIMP_IMPORT_EXPORT(DXF)
REMOVE_ASSIMP_IMPORT_EXPORT(HMP)
REMOVE_ASSIMP_IMPORT_EXPORT(IFC)
#REMOVE_ASSIMP_IMPORT_EXPORT(IRR)
REMOVE_ASSIMP_IMPORT_EXPORT(LWO)
REMOVE_ASSIMP_IMPORT_EXPORT(LWS)
REMOVE_ASSIMP_IMPORT_EXPORT(MD2)
REMOVE_ASSIMP_IMPORT_EXPORT(MD3)
REMOVE_ASSIMP_IMPORT_EXPORT(MD5)
REMOVE_ASSIMP_IMPORT_EXPORT(MDC)
REMOVE_ASSIMP_IMPORT_EXPORT(MDL)
REMOVE_ASSIMP_IMPORT_EXPORT(MS3D)
REMOVE_ASSIMP_IMPORT_EXPORT(NDO)
REMOVE_ASSIMP_IMPORT_EXPORT(NFF)
REMOVE_ASSIMP_IMPORT_EXPORT(NONFREE_C4D)
REMOVE_ASSIMP_IMPORT_EXPORT(OFF)
REMOVE_ASSIMP_IMPORT_EXPORT(OGRE)
REMOVE_ASSIMP_IMPORT_EXPORT(OPENGEX)
REMOVE_ASSIMP_IMPORT_EXPORT(PLY)
REMOVE_ASSIMP_IMPORT_EXPORT(Q3BSP)
REMOVE_ASSIMP_IMPORT_EXPORT(Q3D)
REMOVE_ASSIMP_IMPORT_EXPORT(RAW)
REMOVE_ASSIMP_IMPORT_EXPORT(SMD)
REMOVE_ASSIMP_IMPORT_EXPORT(STL)
REMOVE_ASSIMP_IMPORT_EXPORT(TERRAGEN)
REMOVE_ASSIMP_IMPORT_EXPORT(XGL)
#REMOVE_ASSIMP_IMPORT_EXPORT(X)
